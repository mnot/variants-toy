[
  {
    "name": "vanilla encoding",
    "expects": [0],
    "stored_responses": [
      {
        "variants": [
          ["Accept-Encoding", "gzip"]
        ],
        "variant-key": ["gzip"]
      }
    ],
    "request": {
      "accept-encoding": ["gzip"]
    }
  },
  {
    "name": "default to identity",
    "expects": [1],
    "stored_responses": [
      {
        "variants": [
          ["Accept-Encoding", "gzip"]
        ],
        "variant-key": ["gzip"]
      },
      {
        "variants": [
          ["Accept-Encoding", "gzip"]
        ],
        "variant-key": ["identity"]
      }
    ],
    "request": {
      "accept-encoding": ["br"]
    }
  },
  {
    "name": "client supports two encodings",
    "expects": [0],
    "stored_responses": [
      {
        "variants": [
          ["Accept-Encoding", "gzip"]
        ],
        "variant-key": ["gzip"]
      }
    ],
    "request": {
      "accept-encoding": ["gzip", "br"]
    }
  },
  {
    "name": "two stored, two preferences",
    "expects": [0,1],
    "stored_responses": [
      {
        "variants": [
          ["Accept-Encoding", "gzip", "br"]
        ],
        "variant-key": ["gzip"]
      },
      {
        "variants": [
          ["Accept-Encoding", "gzip", "br"]
        ],
        "variant-key": ["br"]
      }
    ],
    "request": {
      "accept-encoding": ["gzip", "br"]
    }
  },
  {
    "name": "three stored, two preferences",
    "expects": [0,1,2],
    "stored_responses": [
      {
        "variants": [
          ["Accept-Encoding", "gzip", "br"]
        ],
        "variant-key": ["gzip"]
      },
      {
        "variants": [
          ["Accept-Encoding", "gzip", "br"]
        ],
        "variant-key": ["br"]
      },
      {
        "variants": [
          ["Accept-Encoding", "gzip", "br"]
        ],
        "variant-key": ["identity"]
      }
    ],
    "request": {
      "accept-encoding": ["gzip", "br"]
    }
  },
  {
    "name": "two stored, two preferences inverted",
    "expects": [1,0],
    "stored_responses": [
      {
        "variants": [
          ["Accept-Encoding", "gzip", "br"]
        ],
        "variant-key": ["gzip"]
      },
      {
        "variants": [
          ["Accept-Encoding", "gzip", "br"]
        ],
        "variant-key": ["br"]
      }
    ],
    "request": {
      "accept-encoding": ["br", "gzip"]
    }
  },
  {
    "name": "encoding miss",
    "expects": [],
    "stored_responses": [
      {
        "variants": [
          ["Accept-Encoding", "gzip"]
        ],
        "variant-key": ["gzip"]
      }
    ],
    "request": {
      "accept-encoding": ["br"]
    }
  },
  {
    "name": "no preference miss",
    "expects": [],
    "stored_responses": [
      {
        "variants": [
          ["Accept-Encoding", "gzip"]
        ],
        "variant-key": ["gzip"]
      }
    ],
    "request": {
    }
  },
  {
    "name": "no preference hit",
    "expects": [0],
    "stored_responses": [
      {
        "variants": [
          ["Accept-Encoding"]
        ],
        "variant-key": ["identity"]
      }
    ],
    "request": {
    }
  }
]